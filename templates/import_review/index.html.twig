{% extends 'base.html.twig' %}

{% if title is not defined %}
    {% set page_title = 'DEFINE_BETTER' %}
{% else %}
    {% set page_title = title %}
{% endif %}

{% block title %}{{ parent() }} - {{ page_title }}{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {#	{{ encore_entry_link_tags('') }}#}
{% endblock %}

{% block body %}
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <h2 class="h3 mb-3 font-weight-normal">{{ page_title }}</h2>
            </div>
        </div>
    </div>
    {#	<h1>Imported Date: {{ imports.createdAt ? imports.createdAt|date('m/d/Y g:i a') : '' }}</h1>#}
    <h2>Imported Data Review</h2>



    {#	table-responsive#}
    <table class="table table-striped table-sm small">
        <thead class="thead-light">
        <tr>
            {#                <th>ImportId</th>#}
            {#                <th>AssociationId</th>#}
            {#                <th>CompanyId</th>#}

            <th>Account Numbers</th>


            {#			<th>External Account ID</th>#}
            {#			<th>Internal Account ID</th>#}
            {#			<th>Internal Owner ID</th>#}
            {#			<th>Internal Property ID</th>#}


            <th>Login Credentials</th>

            {#			<th>User Name</th>#}
            {#			<th>Password</th>#}

            {#                <th>OwnershipStartDate</th>#}
            {#                <th>CreatedAt</th>#}
            <th>Owner</th>
            {#                <th>NameFormal</th>#}
            {#                <th>NameFirst</th>#}
            {#                <th>NameMiddle</th>#}
            {#                <th>NameLast</th>#}
            {#                <th>NameSuffix</th>#}


            <th>Telephone</th>

            {#                <th>PhoneHome</th>#}
            {#                <th>PhoneMobile</th>#}
            {#                <th>PhoneWork</th>#}
            {#                <th>PhoneFax</th>#}

            <th>Email Address</th>


            <th>Mailing Address</th>
            {#                <th>MailingAddressLine1</th>#}
            {#                <th>MailingAddressLine2</th>#}
            {#                <th>MailingAddressCity</th>#}
            {#                <th>MailingAddressState</th>#}
            {#                <th>MailingAddressZipCode</th>#}
            {#                <th>MailingAddressCountry</th>#}


            <th>Property Address</th>
            {#                <th>PropertyAddressLine1</th>#}
            {#                <th>PropertyAddressLine2</th>#}
            {#                <th>PropertyAddressCity</th>#}
            {#                <th>PropertyAddressState</th>#}
            {#                <th>PropertyAddressZipCode</th>#}


            <th>Legal Description</th>

            {#                <th>County</th>#}
            {#                <th>Lot</th>#}
            {#                <th>Block</th>#}
            {#                <th>Subdivision</th>#}
            {#                <th>Legal Description</th>#}

            <th>Tools</th>
        </tr>
        </thead>
        <tbody class="table-hover">
        {% for import in imports %}
            <tr>
                {#                <td>{{ import.importId }}</td>#}
                {#                <td>{{ import.associationId }}</td>#}
                {#                <td>{{ import.companyId }}</td>#}


                <td>
                    {% if
                        import.externalAccountId is empty and
                        import.internalAccountId is empty and
                        import.internalOwnerId is empty and
                        import.internalPropertyId is empty %}
                        <span class="font-weight-light align-middle font-italic">None Imported</span>
                    {% else %}
                        <table class="table table-striped table-sm small">
                            {% if import.externalAccountId is not empty %}
                                <tr class="border-0">
                                <th class="text-nowrap" scope="row">Ext. Account ID:</th>
                                <td class="text-nowrap">{{ import.externalAccountId }}</td></tr>{% endif %}
                            {% if    import.internalAccountId is not empty %}
                                <tr class="border-0">
                                <th class="text-nowrap" scope="row">Int. Account ID:</th>
                                <td class="text-nowrap">{{ import.internalAccountId }}</td></tr>{% endif %}
                            {% if    import.internalOwnerId is not empty %}
                                <tr class="border-0">
                                <th class="text-nowrap" scope="row">Int. Owner ID:</th>
                                <td class="text-nowrap">{{ import.internalOwnerId }}</td></tr>{% endif %}
                            {% if    import.internalPropertyId is not empty %}
                                <tr class="border-0">
                                <th class="text-nowrap" scope="row">Int. Property ID:</th>
                                <td class="text-nowrap">{{ import.internalPropertyId }}</td></tr>{% endif %}
                        </table>

                    {% endif %}

                    {#					import.externalAccountId#}
                    {#					import.internalAccountId#}
                    {#					import.internalOwnerId#}
                    {#					import.internalPropertyId#}


                    {#				<td>{{ import.externalAccountId }}</td>#}
                    {#				<td>{{ import.internalAccountId }}</td>#}
                    {#				<td>{{ import.internalOwnerId }}</td>#}
                    {#				<td>{{ import.internalPropertyId }}</td>#}


                </td>


                <td>
                    {% if
                        import.username is empty and
                        import.password is empty %}
                        <span class="font-weight-light align-middle font-italic">None Imported</span>
                    {% else %}
                        <table class="table table-striped table-sm small">
                            {% if import.username is not empty %}
                                <tr class="border-0" scope="row">
                                <th class="text-nowrap">User Name:</th>
                                <td class="text-nowrap">{{ import.username }}</td></tr>{% endif %}
                            {% if    import.password is not empty %}
                                <tr class="border-0" scope="row">
                                <th class="text-nowrap">Password:</th>
                                <td class="text-nowrap">{{ import.password }}</td></tr>{% endif %}
                        </table>
                    {% endif %}

                    {#				<td>{{ import.username }}</td>#}
                    {#				<td>{{ import.password }}</td>#}

                </td>


                {#                <td>{{ import.ownershipStartDate }}</td>#}
                {#                <td>{{ import.createdAt ? import.createdAt|date('m/d/Y g:i a') : '' }}</td>#}
                {#                <td>{{ import.createdAt ? import.createdAt|date('Y-m-d H:i:s') : '' }}</td>#}

                <td>
                    <div class="text-nowrap">
                        {{ import.nameFormal|trim }}
                    </div>
                    {% if import.nameFirst is not empty
                        or import.nameMiddle is not empty
                        or import.nameLast is not empty
                        or import.nameSuffix is not empty %}
                        <div class="text-nowrap">
                            {% if import.nameFirst is not empty %} {{ import.nameFirst|trim }} {% endif %}
                            {% if import.nameMiddle is not empty %}{{ import.nameMiddle|trim }} {% endif %}
                            {% if import.nameLast is not empty %}{{ import.nameLast|trim }} {% endif %}
                            {% if import.nameSuffix is not empty %}{{ import.nameSuffix|trim }}{% endif %}
                        </div>
                    {% endif %}
                </td>


                {#                <td>{{ import.nameFormal }}</td>#}
                {#                <td>{{ import.nameFirst }}</td>#}
                {#                <td>{{ import.nameMiddle }}</td>#}
                {#                <td>{{ import.nameLast }}</td>#}
                {#                <td>{{ import.nameSuffix }}</td>#}


                <td>
                    {% if
                        import.phoneHome is empty and
                        import.phoneMobile is empty and
                        import.phoneWork is empty and
                        import.phoneFax %}
                        <span class="font-weight-light align-middle font-italic">None Imported</span>
                    {% else %}
                        <table class="table table-striped table-sm small">
                            {% if import.phoneHome is not empty %}
                                <tr class="border-0">
                                    <th class="text-nowrap" scope="row">Home:</th>
                                    <td class="text-nowrap">{{ import.phoneHome }}</td>
                                </tr>
                            {% endif %}
                            {% if import.phoneMobile is not empty %}
                                <tr class="border-0">
                                    <th class="text-nowrap" scope="row">Mobile:</th>
                                    <td class="text-nowrap">{{ import.phoneMobile }}</td>
                                </tr>
                            {% endif %}
                            {% if import.phoneWork is not empty %}
                                <tr class="border-0">
                                    <th class="text-nowrap" scope="row">Work:</th>
                                    <td class="text-nowrap">{{ import.phoneWork }}</td>
                                </tr>
                            {% endif %}
                            {% if import.phoneFax is not empty %}
                                <tr class="border-0">
                                    <th class="text-nowrap" scope="row">Fax:</th>
                                    <td class="text-nowrap">{{ import.phoneFax }}</td>
                                </tr>
                            {% endif %}
                        </table>
                    {% endif %}


                </td>


                <td>
                    {% if import.email is empty %}
                        <span class="font-weight-light align-middle font-italic">None Imported</span>
                    {% else %}
                        {{ import.email }}
                    {% endif %}
                </td>


                <td>
                    {% if
                        import.mailingAddressLine1   is empty and
                        import.mailingAddressLine2   is empty and
                        import.mailingAddressCity    is empty and
                        import.mailingAddressState   is empty and
                        import.mailingAddressZipCode is empty and
                        import.mailingAddressCountry %}<span
                            class="font-weight-light  font-italic">(None Imported)</span>
                    {% else %}
                        {% if import.mailingAddressLine1 is not empty %}<span
                                class="text-nowrap">{{ import.mailingAddressLine1 }}</span>
                            <br/>{% endif %}
                        {% if    import.mailingAddressLine2 is not empty %}<span
                                class="text-nowrap">{{ import.mailingAddressLine2 }}</span>
                            <br/>{% endif %}
                        {% if
                            import.mailingAddressCity is not empty and
                            import.mailingAddressState is not empty %}
                            <span class="text-nowrap">
                        {% endif %}
                        {% if import.mailingAddressCity is not empty %}{{ import.mailingAddressCity }}, {% endif %}
                        {% if import.mailingAddressState is not empty %}{{ import.mailingAddressState }}<br/>{% endif %}
                        {% if
                            import.mailingAddressCity is not empty and
                            import.mailingAddressState is not empty %}
                            </span>
                        {% endif %}
                        {% if    import.mailingAddressZipCode is not empty %}{{ import.mailingAddressZipCode }}{% endif %}
                        {% if    import.mailingAddressCountry is not empty %}
                            <br/>{{ import.mailingAddressCountry }}{% endif %}
                    {% endif %}
                </td>

                {#                <td>{{ import.mailingAddressLine1 }}</td>#}
                {#                <td>{{ import.mailingAddressLine2 }}</td>#}
                {#                <td>{{ import.mailingAddressCity }}</td>#}
                {#                <td>{{ import.mailingAddressState }}</td>#}
                {#                <td>{{ import.mailingAddressZipCode }}</td>#}
                {#                <td>{{ import.mailingAddressCountry }}</td>#}


                <td>
                    {% if
                        import.propertyAddressLine1   is empty and
                        import.propertyAddressLine2   is empty and
                        import.propertyAddressCity    is empty and
                        import.propertyAddressState   is empty and
                        import.propertyAddressZipCode is empty and
                        import.propertyAddressCountry %}<span
                            class="font-weight-light  font-italic">(None Imported)</span>
                    {% else %}
                        {% if import.propertyAddressLine1 is not empty %}<span
                                class="text-nowrap">{{ import.propertyAddressLine1 }}</span>
                            <br/>{% endif %}
                        {% if    import.propertyAddressLine2 is not empty %}<span
                                class="text-nowrap">{{ import.propertyAddressLine2 }}</span>
                            <br/>{% endif %}
                        {% if
                            import.propertyAddressCity is not empty and
                            import.propertyAddressState is not empty %}
                            <span class="text-nowrap">
                        {% endif %}
                        {% if import.propertyAddressCity is not empty %}{{ import.propertyAddressCity }}, {% endif %}
                        {% if import.propertyAddressState is not empty %}{{ import.propertyAddressState }}
                            <br/>{% endif %}
                        {% if
                            import.propertyAddressCity is not empty and
                            import.propertyAddressState is not empty %}
                            </span>
                        {% endif %}
                        {% if    import.propertyAddressZipCode is not empty %}{{ import.propertyAddressZipCode }}{% endif %}

                    {% endif %}
                </td>

                {#                <td>{{ import.propertyAddressLine1 }}</td>#}
                {#                <td>{{ import.propertyAddressLine2 }}</td>#}
                {#                <td>{{ import.propertyAddressCity }}</td>#}
                {#                <td>{{ import.propertyAddressState }}</td>#}
                {#                <td>{{ import.propertyAddressZipCode }}</td>#}


                <td>


                    {% if
                        import.lot is empty and
                        import.block is empty and
                        import.subdivision is empty and
                        import.legalDescription is empty and
                        import.county %}<span class="font-weight-light  font-italic">(None Imported)</span>
                    {% else %}
                        {% if import.lot is not empty %}
                            <div class="border-bottom font-weight-bold small">Lot:</div>
                            <div class="font-italic small pl-2">{{ import.lot }}</div>
                        {% endif %}
                        {% if import.block is not empty %}
                            <div class="border-bottom font-weight-bold small">Block:</div>
                            <div class="font-italic small pl-2">{{ import.block }}</div>
                        {% endif %}
                        {% if import.subdivision is not empty %}
                            <div class="border-bottom font-weight-bold small">Subdivision:</div>
                            <div class="font-italic small pl-2">{{ import.subdivision }}</div>
                        {% endif %}

                        {% if import.legalDescription is not empty %}
                            <div class="border-bottom font-weight-bold small">Legal Description:</div>
                            <div class="font-italic small pl-2">{{ import.legalDescription }}</div>
                        {% endif %}
                        {% if import.county is not empty %}
                            <div class="border-bottom font-weight-bold small">County:</div>
                            <div class="font-italic small pl-2">{{ import.county }}</div>
                        {% endif %}
                    {% endif %}
                </td>


                {#                <td>{{ import.county }}</td>#}
                {#                <td>{{ import.lot }}</td>#}
                {#                <td>{{ import.block }}</td>#}
                {#                <td>{{ import.subdivision }}</td>#}
                {#                <td>{{ import.legalDescription }}</td>#}


                <td>
                    <a href="{{ path('import_show', {'importId': import.importId}) }}"
                       class="btn btn-primary btn-lg btn-block active" role="button" aria-disabled="true">View
                        Record</a>
                    <a href="{{ path('import_edit', {'importId': import.importId}) }}"
                       class="btn btn-danger btn-lg btn-block active" role="button" aria-disabled="true">Edit Record</a>
                </td>
            </tr>

        {% else %}
            <tr>
                <td colspan="13">No Results from the Database.</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('import_new') }}"
       class="btn btn-info btn-lg btn-block active" role="button" aria-disabled="true">Add Property</a>


{% endblock %}
